{% extends "account/base.html" %}
{% load i18n %}
{% block head_title %}{% trans "ソーシャル登録" %}{% endblock %}

{% block account_content %}
<div class="timer-card mx-auto">
  <h2 class="mb-3">{% trans "Googleで" %}Torail.app {% trans "に登録" %}</h2>
  <p class="text-muted mb-4">
    {% blocktrans %}Googleアカウントを使って Torail.app に登録します。内容を確認して<b>ユーザー登録</b>を押してください。{% endblocktrans %}
  </p>
   <div class="alert alert-warning">すでに登録しているメールアドレスでは登録できません(メールアドレスでの登録を含む)(ログインしても接続できません)</div>

  {% if form.non_field_errors %}
    <div class="alert alert-danger">{{ form.non_field_errors }}</div>
  {% endif %}

  <form method="post" action="{% url 'socialaccount_signup' %}">
    {% csrf_token %}
    {% if redirect_field_value %}
      <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}">
    {% endif %}

    <div class="mb-3">
      <label for="{{ form.email.id_for_label }}" class="form-label">{% trans "メールアドレス" %}</label>
      {{ form.email }}
      {% if form.email.errors %}<div class="text-danger">{{ form.email.errors }}</div>{% endif %}
      <small class="text-muted">{% trans "Google から取得したメールアドレスです" %}</small>
    </div>

    <div class="mb-3">
      <label for="{{ form.username.id_for_label }}" class="form-label">{% trans "ユーザー名" %}</label>
      {{ form.username }}
      {% if form.username.errors %}<div class="text-danger">{{ form.username.errors }}</div>{% endif %}
    </div>

    {% for hidden in form.hidden_fields %}{{ hidden }}{% endfor %}

    <div class="d-flex justify-content-between align-items-center mt-4">
      <a href="https://torail.app/login_register" class="btn btn-outline-secondary">{% trans "戻る" %}</a>
      <button type="submit" class="btn btn-primary">{% trans "ユーザー登録" %}</button>
    </div>
  </form>
</div>
{% endblock %}
