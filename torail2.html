<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>学習記録管理サイト</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />

  <!-- あなたのカスタム CSS（例: styles.css） -->
  <link href="styles.css" rel="stylesheet" />
</head>

<body>
  <!-- =================================================
       アプリ全体ラッパー
       ================================================= -->
  <div class="d-flex vh-100 w-100" style="min-width:0;">
    <!-- =============== Sidebar (desktop) ============== -->
    <aside class="sidebar d-none d-md-flex flex-column">
      <div class="logo">
        <img src="https://via.placeholder.com/120x40?text=LOGO" alt="Logo" />
      </div>

      <!-- ※React では <NavLink> に置き換え -->
      <nav class="nav flex-column">
        <a class="nav-link active" href="#/"> <i class="bi bi-house-door-fill"></i> ホーム </a>
        <a class="nav-link" href="#/records"> <i class="bi bi-clock"></i> きろく </a>
        <a class="nav-link" href="#/stats"> <i class="bi bi-bar-chart-line-fill"></i> 統計 </a>
      </nav>

      <div class="mt-auto p-3">
        <a class="nav-link text-white" href="#/logout">
          <i class="bi bi-box-arrow-right"></i> ログアウト
        </a>
      </div>
    </aside>

    <!-- =============== Off-canvas (mobile) ============ -->
    <div class="offcanvas offcanvas-start d-md-none" tabindex="-1" id="mobileNav">
      <div class="offcanvas-header">
        <h5 class="mb-0">Menu</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div>

      <div class="offcanvas-body">
        <div class="logo text-center mb-4">
          <img src="https://via.placeholder.com/120x40?text=LOGO" alt="Logo" />
        </div>

        <nav class="nav flex-column">
          <a class="nav-link active" href="#/">ホーム</a>
          <a class="nav-link" href="#/records">きろく</a>
          <a class="nav-link" href="#/stats">統計</a>
          <a class="nav-link mt-3" href="#/logout">ログアウト</a>
        </nav>
      </div>
    </div>

    <!-- =============== Main =========================== -->
    <main class="flex-grow-1 p-3" style="min-width:0; background:#f6f8fa;">
      <!-- モバイル用トグル -->
      <button class="btn btn-outline-secondary d-md-none mb-3" data-bs-toggle="offcanvas" data-bs-target="#mobileNav">
        <i class="bi bi-list"></i>
      </button>

      <!-- ---------- Home (page placeholder) ---------- -->
      <section id="home">
        <h1><i class="bi bi-house-door-fill"></i> ホーム</h1>
        <p class="lead">ようこそ！学習記録管理サイトへ。</p>
      </section>

      <!-- ---------- Records (page placeholder) ------- -->
      <section id="records" class="pt-4">
        <h1><i class="bi bi-clock"></i> 測定</h1>

        <!-- ▼ Timer / AddRecordForm をマウントする場所 -->
        <div id="timer-or-form-root"></div>

        <!-- ▼ 記録一覧テーブル（React で差し替え） -->
        <h2 class="mt-5">記録一覧</h2>
        <div class="table-responsive">
          <table class="table mb-0">
            <thead class="table-light">
              <tr><th>トピック</th><th>タスク</th><th>時間</th><th>日時</th></tr>
            </thead>
            <tbody id="records-list"><!-- React で挿入 --></tbody>
          </table>
        </div>
      </section>

      <!-- ---------- Stats (page placeholder) --------- -->
      <section id="stats" class="pt-5">
        <h1><i class="bi bi-bar-chart-line-fill"></i> 統計</h1>

        <div class="row g-3 mb-4">
          <div class="col-6 col-md-4">
            <label class="form-label" for="breakdown">内訳</label>
            <select id="breakdown" class="form-select">
              <option value="subject">科目別</option>
              <option value="date">日付別</option>
            </select>
          </div>
          <div class="col-6 col-md-4">
            <label class="form-label" for="filter">期間</label>
            <select id="filter" class="form-select">
              <option value="all">全期間</option>
              <option value="week">今週</option>
              <option value="month">今月</option>
            </select>
          </div>
        </div>

        <div class="stats-card mx-auto">
          <div class="chart-container">
            <canvas id="statsChart"></canvas>
          </div>
          <div id="detailView" class="mt-3 text-center text-muted">
            <em>クリックで詳細表示</em>
          </div>
        </div>
      </section>

      <!-- ---------- Logout (page placeholder) -------- -->
      <section id="logout" class="pt-5 text-center">
        <h1><i class="bi bi-box-arrow-right"></i> ログアウト</h1>
        <p>本当にログアウトしますか？</p>
        <button class="btn btn-outline-secondary">ログアウト</button>
      </section>
    </main>
  </div>

  <!-- Bootstrap JS (オフキャンバス用) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Chart.js は React 側で import する想定 -->
</body>
</html>
